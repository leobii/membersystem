<!doctype html>
<html>
    <head>
        <script src="https://code.jquery.com/jquery-3.2.1.min.js"></script>
	<!-- <script src="./regis.js"></script>-->
	<script> 
	function sendreq1(){
        var account=document.getElementById("acc");
        var email=document.getElementById("email");
        var passwd=document.getElementById("passwd");
        var xhr = new XMLHttpRequest();
        xhr.open("POST", '/register', true);
        xhr.setRequestHeader("Content-Type", "application/x-www-form-urlencoded");
        xhr.onreadystatechange = function() { // Call a function when the state changes.
            if (this.readyState === XMLHttpRequest.DONE && this.status === 200) {
                // Request finished. Do processing here.
        }
        }
	let str="name="+account.value+"&email="+email.value+"&password="+passwd.value
        console.log(str)
        
		
	xhr.send(str);
	} 
	function sendreq2(){
	var account=document.getElementById("acc");
        var email=document.getElementById("email");
        var passwd=document.getElementById("passwd");

	var settings = {
	  "url": "/register",
	  "method": "POST",
	  "timeout": 0,
	  "headers": {
	    "Content-Type": "application/x-www-form-urlencoded"
	  },
	  "data": {
	    "name": account.value,
	    "email": email.value,
	    "password": passwd.value
	  }
	};
	
	$.ajax(settings).done(function (response) {
	  console.log(response);
	  var test=response;
	  console.log(typeof(test.result.status));
	  alert(test);
	  console.log(test);	
	});
	}
	</script>
    </head>
    <body>
        <div >
        	<input id='acc' placeholder="請輸入帳號">
		<input id='email' placeholder="請輸入電子郵件">
		<input id='passwd' placeholder="請輸入密碼">

	</div>
        <div>
            <button type="button" onclick="sendreq2()">Hi!</button>
        </div>
    </body>
</html>
